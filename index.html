<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/custom.css"/>
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->


    <script type="text/javascript" src="javascripts/jquery-1.10.2.min.js"></script>
	<script type="text/javascript" src="javascripts/select2.js"></script>
	<script type="text/javascript" src="javascripts/select2_locale_fr.js"></script>
	<script type="text/javascript" src="javascripts/chosen.jquery.js"></script>
	<script type="text/javascript" src="javascripts/selectize.js"></script>
	<link rel="stylesheet" type="text/css" href="stylesheets/selectize.css">
	<link rel="stylesheet" type="text/css" href="stylesheets/chosen.min.css">
	<link rel="stylesheet" type="text/css" href="stylesheets/select2.css">


	<script type="text/javascript">

		//on remplit les selects
		window.onload = function () {
			$('select').not('.remote, .remoteLucca').append('<optgroup label="Alaskan/Hawaiian Time Zone"><option value="AK">Alaska</option><option disabled value="HI">Hawaii</option></optgroup><optgroup label="Pacific Time Zone"><option value="CA">California</option><option value="NV">Nevada</option><option selected value="OR">Oregon</option><option value="WA">Washington</option></optgroup><optgroup label="Mountain Time Zone"><option value="AZ">Arizona</option><option value="CO">Colorado</option><option value="ID">Idaho</option><option value="MT">Montana</option><option value="NE">Nebraska</option><option value="NM">New Mexico</option><option value="ND">North Dakota</option><option value="UT">Utah</option><option value="WY">Wyoming</option></optgroup>');

			$('select.standart.chosen').prepend('<option></option>').chosen({allow_single_deselect: true});
			$('select.standart.select2').prepend('<option></option>').select2({allowClear: true});
			$('select.standart.selectize').selectize();

			$('select.multiple.chosen').chosen({max_selected_options: 3});
			$('select.multiple.select2').select2({ maximumSelectionSize: 3 });
			$('select.multiple.selectize').selectize({maxItems: 3});

			$('select.remote.chosen').chosen();


    function movieFormatResult(movie) {
        var markup = "<table class='movie-result'><tr>";
        if (movie.posters !== undefined && movie.posters.thumbnail !== undefined) {
            markup += "<td class='movie-image'><img src='" + movie.posters.thumbnail + "'/></td>";
        }
        markup += "<td class='movie-info'><div class='movie-title'>" + movie.title + "</div>";
        if (movie.critics_consensus !== undefined) {
            markup += "<div class='movie-synopsis'>" + movie.critics_consensus + "</div>";
        }
        else if (movie.synopsis !== undefined) {
            markup += "<div class='movie-synopsis'>" + movie.synopsis + "</div>";
        }
        markup += "</td></tr></table>"
        return markup;
    }

    function movieFormatSelection(movie) {
        return movie.title;
    }


			$('input.remote.select2').select2({
	            placeholder: "Search for a movie",
	            minimumInputLength: 1,
	            ajax: {
	                url: "http://api.rottentomatoes.com/api/public/v1.0/movies.json",
	                dataType: 'jsonp',
	                data: function (term, page) {
	                    return {
	                        q: term,
	                        page_limit: 10,
	                        apikey: "ju6z9mjyajq2djue3gbvv26t"
	                    };
	                },
	                results: function (data, page) {
	                    return {results: data.movies};
	                }
	            },
	            initSelection: function(element, callback) {
	                var id=$(element).val();
	                if (id!=="") {
	                    $.ajax("http://api.rottentomatoes.com/api/public/v1.0/movies/"+id+".json", {
	                        data: {
	                            apikey: "ju6z9mjyajq2djue3gbvv26t"
	                        },
	                        dataType: "jsonp"
	                    }).done(function(data) { callback(data); });
	                }
	            },
	            formatResult: movieFormatResult,
	            formatSelection: movieFormatSelection,
	            dropdownCssClass: "bigdrop",
	            escapeMarkup: function (m) { return m; }
	        });
			$('select.remote.selectize').selectize({
			    valueField: 'title',
			    labelField: 'title',
			    searchField: 'title',
			    options: [],
			    create: false,
			    render: {
			        option: function(item, escape) {
			            var actors = [];
			            for (var i = 0, n = item.abridged_cast.length; i < n; i++) {
			                actors.push('<span>' + escape(item.abridged_cast[i].name) + '</span>');
			            }

			            return '<div>' +
			                '<img src="' + escape(item.posters.thumbnail) + '" alt="">' +
			                '<span class="title">' +
			                    '<span class="name">' + escape(item.title) + '</span>' +
			                '</span>' +
			                '<span class="description">' + escape(item.synopsis || 'No synopsis available at this time.') + '</span>' +
			                '<span class="actors">' + (actors.length ? 'Starring ' + actors.join(', ') : 'Actors unavailable') + '</span>' +
			            '</div>';
			        }
			    },
			    load: function(query, callback) {
			        if (!query.length) return callback();
			        $.ajax({
			            url: 'http://api.rottentomatoes.com/api/public/v1.0/movies.json',
			            type: 'GET',
			            dataType: 'jsonp',
			            data: {
			                q: query,
			                page_limit: 10,
			                apikey: '3qqmdwbuswut94jv4eua3j85'
			            },
			            error: function() {
			                callback();
			            },
			            success: function(res) {
			                callback(res.movies);
			            }
			        });
			    }
			});



			$('select.remoteLucca.chosen').chosen();
			$('input.remoteLucca.select2').select2({
	            placeholder: "Search for a user",
	            minimumInputLength: 1,
	            ajax: {
	                url: "http://lucca.local/api/users",
	                dataType: 'jsonp',
	                data: function (term, page) {
	                    return {
	                        displayname: 'like,' + term,
	                        fields: 'id,displayname,dtContractStart'
	                    };
	                },
	                results: function (response, page) {
	                    return {results: response.data};
	                }
	            },
	            initSelection: function(element, callback) {
	                var id=$(element).val();
	                if (id!=="") {
	                    $.ajax("http://lucca.local/api/users", {
	                        data: {
	                        	fields: 'id,displayname,dtContractStart',
	                        	id: element.id
	                        },
	                        dataType: "jsonp"
	                    }).done(function(data) { callback(data); });
	                }
	            },
	            formatResult: function(item) {
			            return '<div>' +
			                '<span class="id">' + item.id + '</span> : ' +
			                '<span class="name">' + item.displayName + '</span><br>' +
			                '<span class="date">Présent depuis : ' + new Date(item.dtContractStart) + '</span>' +
			            '</div>';
			        },
	            formatSelection: function (user) { return user.id; },
	            dropdownCssClass: "bigdrop",
	            escapeMarkup: function (m) { return m; }
	        });
			$('select.remoteLucca.selectize').selectize({
			    valueField: 'displayname',
			    labelField: 'displayname',
			    searchField: 'displayname',
			    create: false,
			    render: {
			        option: function(item, escape) {
			            return '<div>' +
			                '<span class="id">' + item.id + '</span> : ' +
			                '<span class="name">' + escape(item.displayName) + '</span><br>' +
			                '<span class="date">Présent depuis : ' + new Date(item.dtContractStart) + '</span>' +
			            '</div>';
			        }
			    },
			    load: function(query, callback) {
			        if (!query.length) return callback();
			        $.ajax({
			            url: 'http://lucca.local/api/users?fields=id,displayname,dtContractStart&name=like,' + encodeURIComponent(query),
			            type: 'GET',
			            error: function() {
			                callback();
			            },
			            success: function(res) {
			                callback(res.data);
			            }
			        });
			    }
			});
			
		};

	</script>

    <title>Select-benchmark by XavCamp</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>Select-benchmark</h1>
        <h2>comparaison select2 / chosen / selectize</h2>
        <a href="https://github.com/XavCamp/select-benchmark" class="button"><small>View project on</small>GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <h2>
			<a class="anchor"><span class="octicon octicon-link"></span></a>
			Réunion Technique <a href="http://lucca.fr/">Lucca</a> 16/10/13
		</h2>

		<p>Le but de cette page est de comparer les librairies <a href="http://harvesthq.github.io/chosen/">chosen.js</a>, <a href="http://ivaynberg.github.io/select2/">select2.js</a> et <a href="http://brianreavis.github.io/selectize.js/">selectize.js</a>. </p>

		<h2>
			Select standart, optgroup, selected & disabled, search, placeholder & unselect
		</h2>

		<table>
			<tr>
				<th></th>
				<th><h4>chosen</h4></th>
				<th><h4>select2</h4></th>
				<th><h4>selectize</h4></th>
			</tr>
			<tr>
				<td><select style="width:200px" class="standart"></select></td>
				<td><select data-placeholder="placeholder custom" style="width:200px" class="standart chosen"></select></td>
				<td><select data-placeholder="placeholder custom" style="width:200px" class="standart select2"></select></td>
				<td><select placeholder="placeholder custom" style="width:200px" class="standart selectize"></select></td>
			</tr>
			<tr>
				<td></td>
				<td><pre><code>$('select.standart.chosen')
.prepend('&lt;option&gt;&lt;/option&gt;')
.chosen({allow_single_deselect: true});</code></pre></td>
				<td><pre><code>$('select.standart.select2')
.prepend('&lt;option&gt;&lt;/option&gt;')
.select2({allowClear: true});</code></pre></td>
				<td><pre><code>$('select.standart.selectize')
.selectize();</code></pre></td>
			</tr>
			<tr>
				<td class="error">search, placeholder</td>
				<td>data-placeholder</td>
				<td>data-placeholder</td>
				<td>placeholder<br><span class="error">disabled</span></td>
			</tr>
		</table>

		<h2>
			Multiple select, optgroup, search & 3 options max
		</h2>

		<table>
			<tr>
				<th></th>
				<th><h4>chosen</h4></th>
				<th><h4>select2</h4></th>
				<th><h4>selectize</h4></th>
			</tr>
			<tr>
				<td><select style="width:200px" multiple class="multiple"></select></td>
				<td><select style="width:200px" multiple class="multiple chosen"></select></td>
				<td><select style="width:200px" multiple class="multiple select2"></select></td>
				<td><select style="width:200px" multiple class="multiple selectize"></select></td>
			</tr>
			<tr>
				<td><pre></td>
				<td><pre><code>$('select.multiple.chosen')
.chosen({max_selected_options: 3});</code></pre></td>
				<td><pre><code>$('select.multiple.select2')
.select2({ maximumSelectionSize: 3 });</code></pre></td>
				<td><pre><code>$('select.multiple.selectize')
.selectize({maxItems: 3});</code></pre></td>
			</tr>
			<tr>
				<td class="error">sélection max</td>
				<td></td>
				<td></td>
				<td></td>
			</tr>
		</table>



		<h2>
			Remote data
		</h2>

		<table class="remote">
			<tr>
				<th></th>
				<th><h4>chosen</h4></th>
				<th><h4>select2</h4></th>
				<th><h4>selectize</h4></th>
			</tr>
			<tr>
				<td><select style="width:200px" class="remote"></select></td>
				<td><select style="width:200px" class="remote chosen"></select></td>
				<td><input style="width:500px" class="remote select2"></td>
				<td><select style="width:500px" class="remote selectize"></select></td>
			</tr>
			<tr>
				<td><pre></td>
				<td><pre><code>$('select.remote.chosen')
.chosen();</code></pre></td>
				<td><pre><code>$('input.remote.select2')
.select2({
            placeholder: "Search for a movie",
            minimumInputLength: 1,
            ajax: { // instead of writing the function to execute the request we use Select2's convenient helper
                url: "http://api.rottentomatoes.com/api/public/v1.0/movies.json",
                dataType: 'jsonp',
                data: function (term, page) {
                    return {
                        q: term, // search term
                        page_limit: 10,
                        apikey: "ju6z9mjyajq2djue3gbvv26t" // please do not use so this example keeps working
                    };
                },
                results: function (data, page) { // parse the results into the format expected by Select2.
                    // since we are using custom formatting functions we do not need to alter remote JSON data
                    return {results: data.movies};
                }
            },
            initSelection: function(element, callback) {
                // the input tag has a value attribute preloaded that points to a preselected movie's id
                // this function resolves that id attribute to an object that select2 can render
                // using its formatResult renderer - that way the movie name is shown preselected
                var id=$(element).val();
                if (id!=="") {
                    $.ajax("http://api.rottentomatoes.com/api/public/v1.0/movies/"+id+".json", {
                        data: {
                            apikey: "ju6z9mjyajq2djue3gbvv26t"
                        },
                        dataType: "jsonp"
                    }).done(function(data) { callback(data); });
                }
            },
            formatResult: movieFormatResult, // omitted for brevity, see the source of this page
            formatSelection: movieFormatSelection,  // omitted for brevity, see the source of this page
            dropdownCssClass: "bigdrop", // apply css that makes the dropdown taller
            escapeMarkup: function (m) { return m; } // we do not want to escape markup since we are displaying html in results
        });</code></pre></td>
				<td><pre><code>$('select.remote.selectize').selectize({
    valueField: 'title',
    labelField: 'title',
    searchField: 'title',
    options: [],
    create: false,
    render: {
        option: function(item, escape) {
            return template(item);
        }
    },
    load: function(query, callback) {
        if (!query.length) return callback();
        $.ajax({
            url: 'http://api.rottentomatoes.com/api/public/v1.0/movies.json',
            type: 'GET',
            dataType: 'jsonp',
            data: {
                q: query,
                page_limit: 10,
                apikey: '3qqmdwbuswut94jv4eua3j85'
            },
            error: function() {
                callback();
            },
            success: function(res) {
                callback(res.movies);
            }
        });
    }
});</code></pre></td>
			</tr>
			<tr>
				<td></td>
				<td><select style="width:200px" class="remoteLucca chosen"></select></td>
				<td><input style="width:500px" class="remoteLucca select2"></td>
				<td><select style="width:500px" class="remoteLucca selectize"></select></td>
			</tr>
			<tr>
				<td><pre></td>
				<td><pre><code>$('select.remoteLucca.chosen')
.chosen();</code></pre></td>
				<td><pre><code>$('input.remoteLucca.select2')
.select2({
    placeholder: "Search for a user",
    minimumInputLength: 1,
    ajax: {
        url: "http://lucca.local/api/users",
        dataType: 'jsonp',
        data: function (term, page) {
            return {
                displayname: 'like,' + term,
                fields: 'id,displayname,dtContractStart'
            };
        },
        results: function (response, page) {
            return {results: response.data};
        }
    },
    initSelection: function(element, callback) {
        var id=$(element).val();
        if (id!=="") {
            $.ajax("http://lucca.local/api/users", {
                data: {
                	fields: 'id,displayname,dtContractStart',
                	id: element.id
                },
                dataType: "jsonp"
            }).done(function(data) { callback(data); });
        }
    },
    formatResult: function(item) {
            return template(item);
        },
    formatSelection: function (user) { return user.id; },
    dropdownCssClass: "bigdrop",
    escapeMarkup: function (m) { return m; }
});</code></pre></td>
				<td><pre><code>$('select.remoteLucca.selectize')
.selectize({
    valueField: 'title',
    labelField: 'title',
    searchField: 'title',
    options: [],
    create: false,
    render: {
        option: function(item, escape) {
            return template(item);
        }
    },
    load: function(query, callback) {
        if (!query.length) return callback();
        $.ajax({
            url: 'http://api.rottentomatoes.com/api/public/v1.0/movies.json',
            type: 'GET',
            dataType: 'jsonp',
            data: {
                q: query,
                page_limit: 10,
                apikey: '3qqmdwbuswut94jv4eua3j85'
            },
            error: function() {
                callback();
            },
            success: function(res) {
                callback(res.movies);
            }
        });
    }
});</code></pre></td>
			</tr>
			<tr>
				<td class="error">No built-in function</td>
				<td class="error">No built-in function</td>
				<td></td>
				<td></td>
			</tr>
		</table>


		<h4>Demo Chosen.js <a href="https://lucca.ilucca-preview.net/timesheet">preview Timesheet</a></h4>




		<h2>
			Other options
		</h2>

		<table class="other">
			<tr>
				<th></th>
				<th><h4>chosen</h4></th>
				<th><h4>select2</h4></th>
				<th><h4>selectize</h4></th>
			</tr>
			<tr>
				<th>hide search under X options</th>
				<td>yes</td>
				<td></td>
				<td></td>
			</tr>
			<tr>
				<th>create new options</th>
				<td></td>
				<td>yes</td>
				<td>yes</td>
			</tr>
			<tr>
				<th>international / right-to-left</th>
				<td>yes</td>
				<td>yes</td>
				<td>yes</td>
			</tr>
			<tr>
				<th>templating, custom layout for options</th>
				<td></td>
				<td>yes</td>
				<td>yes</td>
			</tr>
			<tr>
				<th>JS events</th>
				<td>yes</td>
				<td>yes</td>
				<td>yes</td>
			</tr>
			<tr>
				<th>infinite scroll</th>
				<td></td>
				<td>yes</td>
				<td></td>
			</tr>
			<tr>
				<th>search customisation</th>
				<td></td>
				<td>yes</td>
				<td>yes</td>
			</tr>
			<tr>
				<th>iOS support</th>
				<td>no, but seems ok on iPad</td>
				<td>yes</td>
				<td>yes</td>
			</tr>
			<tr>
				<th>Android support</th>
				<td></td>
				<td>yes</td>
				<td>yes</td>
			</tr>
		</table>



		<h2>
			Github
		</h2>

		<table>
			<tr>
				<th></th>
				<th><h4>chosen</h4></th>
				<th><h4>select2</h4></th>
				<th><h4>selectize</h4></th>
			</tr>
			<tr>
				<th>doc</th>
				<td><a href="http://harvesthq.github.io/chosen/">chosen.js</a></td>
				<td><a href="http://ivaynberg.github.io/select2/">select2.js</a></td>
				<td><a href="http://brianreavis.github.io/selectize.js/">selectize.js</a></td>
			</tr>
			<tr>
				<th>watch</th>
				<td>558</td>
				<td>434</td>
				<td>85</td>
			</tr>
			<tr>
				<th>stars</th>
				<td>13732</td>
				<td>8549</td>
				<td>1940</td>
			</tr>
			<tr>
				<th>forks</th>
				<td>2524</td>
				<td>1437</td>
				<td>204</td>
			</tr>
			<tr>
				<th>issues (open/closed)</th>
				<td>164/1445</td>
				<td>189/1606</td>
				<td>39/115</td>
			</tr>
			<tr>
				<th>size (.js minified)</th>
				<td>26ko</td>
				<td>60ko</td>
				<td>34ko</td>
			</tr>
		</table>

		</section>

      </div>
    </div>
		<footer>
			<a href="https://github.com/XavCamp/select-benchmark/zipball/master" class="button">
				<small>Download</small>
				.zip file
			</a>

          <p class="repo-owner"><a href="https://github.com/XavCamp/select-benchmark"></a> is maintained by <a href="https://github.com/XavCamp">XavCamp</a>.</p>

          <p>This page was generated by <a href="pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </footer>

  
  </body>
</html>